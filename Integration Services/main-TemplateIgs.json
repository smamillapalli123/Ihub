{
  "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
    "parameters": {
    "ihEventHubtemplateurl": {
      "type": "string",
      "metadata": {
        "description": "event hub linked template url."
      }
    },
	"ihEventHubTemplateParametersurl": {
      "type": "string",
      "defaultValue": "logs",
      "metadata": {
        "description": "event hub linked template parameters url."
      }
   
   
    },
    "ihServiceBusTemplateurl": {
      "type": "string",
      "metadata": {
        "description": "service bus linked template url."
      }
    },
    "ihServiceBusTemplateParameterurl": {
      "type": "string",
      "defaultValue": "af",
      "metadata": {
        "description": "service bus linked template parameters url."
      }
   
    },
    "apiManagementTemplateurl": {
      "type": "string",
      "metadata": {
        "description": "api management linked template url."
      }
    },
    "apiManagementTemplateParameterurl": {
      "type": "string",
      "defaultValue": "af",
      "metadata": {
        "description": "api management linked template parameter url."
      }
   
    },
  "logicAppTemplateurl": {
      "type": "string",
      "metadata": {
        "description": "logicapp linked template url."
      }
    },
    "logicApptemplaTeparameterurl": {
      "type": "string",
      "metadata": {
        "description": "logicapp linked template parameter url."
      }
    
    }
 
 
    
   
  },
  
  "variables": {
  },
  "resources": [
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "2021-04-01",
      "name": "linkTemplateEventHub",
      "properties":{

        "mode": "Incremental",
        "templateLink": {
         "uri": "[concat(parameters('ihEventHubtemplateurl'))]",
         "contentVersion": "1.0.0.0"
      },
      "parametersLink": {
        "uri": "[concat(parameters('ihEventHubTemplateParametersurl'),'')]",
        "contentVersion": "1.0.0.0"
      }
        
      }
    },
   
    
    
   
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "2021-04-01",
      "name": "linkTemplateAzureServiceBus",
      "properties": {
        "mode": "Incremental",
        "templateLink": {
         "uri": "[concat(parameters('ihServiceBusTemplateurl'),'')]",
        "contentVersion": "1.0.0.0"
      },
      "parametersLink": {
         "uri": "[concat(parameters('apiManagementTemplateParameterurl'),'')]",
        "contentVersion": "1.0.0.0"
      }
        
      }
    
    },
    
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "2021-04-01",
      "name": "linkTemplateLogicApp",
      "properties": {
        "mode": "Incremental",
        "templateLink": {
         "uri": "[concat(parameters('logicAppTemplateurl'),'')]",
        "contentVersion": "1.0.0.0"
      },
      "parametersLink": {
         "uri": "[concat(parameters('logicApptemplaTeparameterurl'),'')]",
        "contentVersion": "1.0.0.0"
      }
        
      }
    },
   
    
     {
     "type": "Microsoft.Resources/deployments",
     "apiVersion": "2021-04-01",
     "name": "linkTemplateApiManagement",
     "properties": {
      "mode": "Incremental",
      "templateLink": {
      "uri": "[concat(parameters('apiManagementTemplateurl'))]",
      "contentVersion": "1.0.0.0"
      }
     },
     "parametersLink": {
       
         "uri": "[concat(parameters('apiManagementTemplateParameterurl'))]",
        "contentVersion": "1.0.0.0"
        }
     
       }
     
  ],
  "outputs": {}
}